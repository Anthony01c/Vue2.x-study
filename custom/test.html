<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--引入pubsub-js-->
<script src="https://cdn.bootcdn.net/ajax/libs/pubsub-js/1.9.3/pubsub.js"></script>
<script type="text/javascript">
    /*
    * PubSub语法:
    *   1.token subscribe(msgName,callback):订阅消息，并返回一个标识token
    *   2.publish(msgName,data):异步发送消息
    *   3.publishSync(msgName,data)：同步发布消息
    *   4.unsubscribe(token):根据token取消订阅
    * */

    PubSub.subscribe('add',((msg,data)=>{
        console.log('add1',data)
    }))
    const token = PubSub.subscribe('add',(msg,data)=>{
        console.log('add2',data)
    })
    console.log(token)
    PubSub.subscribe('del',((msg,data)=>{
        console.log('del',data)
    }))
    PubSub.publishSync('add','lukas')
    console.log('pub之后')
    PubSub.publish('del','data')
    //PubSub.unsubscribe('add')
    PubSub.unsubscribe(token)
</script>
</body>
</html>